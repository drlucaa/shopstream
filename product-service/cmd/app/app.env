# =======================================================
# File: product-service/cmd/app/app.env
# =======================================================
# This file ensures the product-service listens to the correct event.

APP_NAME=product-service
LOG_LEVEL=info

# --- Database ---
DB_HOST=localhost
DB_USER=productuser
DB_PASSWORD=productpassword
DB_NAME=product_db
DB_PORT=54321
DB_SSL_MODE=disable

# --- RabbitMQ ---
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/

# --- Subscribing Configuration ---
INCOMING_EXCHANGE_NAME=shop_events
INCOMING_QUEUE_NAME=product_service_queue
# CORRECTED: This service listens for 'inventory.checked'
INCOMING_ROUTING_KEY=inventory.checked

# --- Publishing Configuration ---
OUTGOING_EXCHANGE_NAME=shop_events
# This service publishes the 'product.details.fetched' event
OUTGOING_TOPIC=product.details.fetched

# =======================================================
# File: inventory-service/cmd/app/app.env
# =======================================================
# This file ensures the inventory-service is configured correctly.

APP_NAME=inventory-service
LOG_LEVEL=info

# --- Database ---
DB_HOST=postgres-inventory
DB_USER=inventoryuser
DB_PASSWORD=inventorypassword
DB_NAME=inventory_db
DB_PORT=5432
DB_SSL_MODE=disable

# --- RabbitMQ ---
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/

# --- Subscribing Configuration ---
INCOMING_EXCHANGE_NAME=shop_events
INCOMING_QUEUE_NAME=inventory_service_queue
# This service listens for 'order.created'
INCOMING_ROUTING_KEY=order.created

# --- Publishing Configuration ---
OUTGOING_EXCHANGE_NAME=shop_events
# This service publishes the 'inventory.checked' event
OUTGOING_TOPIC=inventory.checked
